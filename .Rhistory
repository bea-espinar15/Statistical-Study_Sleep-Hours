vector.GEI <- ObtenerVector(gasto.ed.ind$GEI)
intervalos.GEI <- hist(vector.GEI, breaks = 'Sturges', include.lowest = TRUE, right = FALSE, plot = TRUE)
vector.GEI
gasto.ed.ind
# elegimos una nueva variable: Edad
datos.EDyGEI <- datos %>% select(2,4)
# separamos las variables
edad <- datos.EDyGEI %>% select(2)
gasto.ed.ind <- datos.EDyGEI %>% select(1)
gasto.ed.ind$GEI <- gasto.ed.ind$GTT
gasto.ed.ind <- gasto.ed.ind %>% select(2)
# pasamos a tibble
edad <- as_tibble(edad)
gasto.ed.ind <- as_tibble(gasto.ed.ind)
# obtenemos los vectores necesarios y los data frames
vector.ED <- ObtenerVector(edad$ED)
vector.GEI <- ObtenerVector(gasto.ed.ind$GEI)
vector.GEI
# obtenemos los vectores necesarios y los data frames
vector.ED <- ObtenerVector(edad[1])
vector.GEI <- ObtenerVector(gasto.ed.ind[1])
vector.GEI
intervalos.GEI <- hist(vector.GEI, breaks = 'Sturges', include.lowest = TRUE, right = FALSE, plot = TRUE)
intervalos.GEI
intervalos2 <- c(0, 1000, 2000, 3000, 4000, 5000, 10000, 20000, 50000)
intervalos.GEI <- hist(vector.GEI, breaks = intervalos2, include.lowest = TRUE, right = FALSE, plot = TRUE)
# tabla de frecuencias absolutas
tabla.freq.abs.EDyGEI <- table(vector.ED, vector.GEI = cut(vector.GEI, breaks = intervalos2, right = FALSE))
edad
intervalos.ED <- hist(vector.ED, breaks = 'Sturges', include.lowest = TRUE, right = FALSE, plot = TRUE)
max(vector.ED)
intervalos.ED
# vemos qué intervalos son representativos para GEI
intervalos3 <- c(0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 85)
# vemos qué intervalos son representativos para ED
intervalos2 <- c(0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 85)
intervalos.ED <- hist(vector.ED, breaks = intervalos2, include.lowest = TRUE, right = FALSE, plot = TRUE)
intervalos.ED
# vemos qué intervalos son representativos para ED
intervalos2 <- c(0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 85)
intervalos.ED <- hist(vector.ED, breaks = intervalos2, include.lowest = TRUE, right = FALSE, plot = FALSE)
# vemos qué intervalos son representativos para GEI
intervalos3 <- c(0, 1000, 2000, 3000, 4000, 5000, 10000, 20000, 50000)
intervalos.GEI <- hist(vector.GEI, breaks = intervalos3, include.lowest = TRUE, right = FALSE, plot = FALSE)
# tabla de frecuencias absolutas
tabla.freq.abs.EDyGEI <- table(vector.ED = cut(vector.ED, breaks = intervalos2, right = FALSE), vector.GEI = cut(vector.GEI, breaks = intervalos3, right = FALSE))
tabla.freq.abs.EDyGEI
# tabla de frecuencias relativas
tabla.freq.rel.EDyGEI <- prop.table(tabla.freq.abs.EDyGEI)
# añadimos marginales
tabla.freq.abs.EDyGEI <- addmargins(tabla.freq.abs.EDyGEI)
tabla.freq.rel.EDyGEI <- addmargins(tabla.freq.rel.EDyGEI)
tabla.freq.abs.EDyGEI
length(vector.ED)
# obtenemos el data frame para representarlo
df.EDyGEI <- data.frame(ED = vector.ED,
GEI = vector.GEI)
diag.disp.EDyGEI <- ggplot(df.EDyGEI, aes(x = ED, y = GEI)) +
geom_point(color = "#71c55b") +
xlab("") +
ylab("")
diag.disp.EDyGEI
cor(vector.ED, vector.GEI)
hist.GE
intervalos.ED <- hist(vector.ED, breaks = intervalos2, include.lowest = TRUE, right = FALSE, plot = TRUE)
# vemos qué intervalos son representativos para ED
intervalos2 <- c(0, 3, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 85)
intervalos.ED <- hist(vector.ED, breaks = intervalos2, include.lowest = TRUE, right = FALSE, plot = TRUE)
# vemos qué intervalos son representativos para ED
intervalos2 <- c(0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 85)
intervalos.ED <- hist(vector.ED, breaks = intervalos2, include.lowest = TRUE, right = FALSE, plot = TRUE)
hist.GE
# declaramos variable del dataframe
datos <- fichero_salida
# rm todas las col exc la 2 (ID), la 5 (NEH), la 7 (ED) y la 57 (GE) y las filas que sean NA
datos <- datos %>% select(2,5,44,57) %>% filter(!is.na(EHOGAR) & !is.na(LIB) & !is.na(GTT))
# pasamos EHOGAR de char a numeric
datos$NEH <- as.numeric(datos$EHOGAR)
datos <- datos %>% select(1,3,4,5)
# elegimos una nueva variable: Gasto en libros
datos.GLyGEI <- datos %>% select(2,4)
# separamos las variables
gasto.lib <- datos.GLyGEI %>% select(2)
gasto.ed.ind <- datos.GLyGEI %>% select(1)
gasto.ed.ind$GEI <- gasto.ed.ind$GTT
gasto.ed.ind <- gasto.ed.ind %>% select(2)
# pasamos a tibble
gasto.lib <- as_tibble(gasto.lib)
gasto.ed.ind <- as_tibble(gasto.ed.ind)
gasto.ed.ind
gasto.ed.ind <- datos.GLyGEI %>% select(1)
gasto.ed.ind
gasto.ed.ind$GEI <- gasto.ed.ind$GTT
gasto.ed.ind
# elegimos una nueva variable: Gasto en libros
datos.GLyGEI <- datos %>% select(2,4)
# separamos las variables
gasto.lib <- datos.GLyGEI %>% select(2)
gasto.ed.ind <- datos.GLyGEI %>% select(1)
# elegimos una nueva variable: Gasto en libros
datos.GLyGEI <- datos %>% select(2,4)
# separamos las variables
gasto.lib <- datos.GLyGEI %>% select(1)
gasto.ed.ind <- datos.GLyGEI %>% select(2)
gasto.ed.ind$GEI <- gasto.ed.ind$GTT
gasto.ed.ind <- gasto.ed.ind %>% select(2)
gasto.ed.ing
gasto.ed.ind
datos
# elegimos una nueva variable: Gasto en libros
datos.GLyGEI <- datos %>% select(2,3)
# separamos las variables
gasto.lib <- datos.GLyGEI %>% select(1)
gasto.ed.ind <- datos.GLyGEI %>% select(2)
gasto.ed.ind$GEI <- gasto.ed.ind$GTT
gasto.ed.ind <- gasto.ed.ind %>% select(2)
# pasamos a tibble
gasto.lib <- as_tibble(gasto.lib)
gasto.ed.ind <- as_tibble(gasto.ed.ind)
gasto.lib
gasto.ed.ind
# obtenemos los vectores necesarios y los data frames
vector.GL <- ObtenerVector(gasto.lib[1])
vector.GEI <- ObtenerVector(gasto.ed.ind[1])
intervalos.GL <- hist(vector.GL, breaks = 'Sturges', include.lowest = TRUE, right = FALSE, plot = TRUE)
intervalos.GL
# vemos qué intervalos son representativos para GL
intervalos2 <- c(0, 100, 200, 300, 400, 500, 600, 2200)
intervalos.GL <- hist(vector.GL, breaks = intervalos2, include.lowest = TRUE, right = FALSE, plot = TRUE)
# tabla de frecuencias absolutas
tabla.freq.abs.GLyGEI <- table(vector.GL = cut(vector.GL, breaks = intervalos2, right = FALSE), vector.GEI = cut(vector.GEI, breaks = intervalos3, right = FALSE))
# tabla de frecuencias relativas
tabla.freq.rel.GLyGEI <- prop.table(tabla.freq.abs.GLyGEI)
# añadimos marginales
tabla.freq.abs.GLyGEI <- addmargins(tabla.freq.abs.GLyGEI)
tabla.freq.rel.GLyGEI <- addmargins(tabla.freq.rel.GLyGEI)
tabla.freq.abs.GLyGEI
# obtenemos el data frame para representarlo
df.GLyGEI <- data.frame(GL = vector.GL,
GEI = vector.GEI)
diag.disp.GLyGEI <- ggplot(df.GLyGEI, aes(x = GL, y = GEI)) +
geom_point(color = "#71c55b") +
xlab("") +
ylab("")
diag.disp.GLyGEI
cor(vector.GL, vector.GEI)
df.GLyNEH <- data.frame(GL = vector.GL,
NEH = vector.NEH)
datos.GLyNEH <- datos %>% select(2,4)
datos
datos.GLyNEH <- datos %>% select(2,4)
gasto.lib <- datos.GLyNEH %>% select(1)
num.est.hogar <- datos.GLyNEH %>% select(2)
gasto.lib <- as_tibble(gasto.lib)
num.est.hogar <- as_tibble(num.est.hogar)
vector.GL <- ObtenerVector(gasto.lib[1])
vector.NEH <- ObtenerVector(num.est.hogar[1])
df.GLyNEH <- data.frame(GL = vector.GL,
NEH = vector.NEH)
ggplot(df.GLyNEH, aes(x = GL, y = NEH)) +
geom_point(color = "#71c55b") +
xlab("") +
ylab("")
ggplot(df.GLyNEH, aes(x = NEH, y = GL)) +
geom_point(color = "#71c55b") +
xlab("") +
ylab("")
cor(vector.NEH, vector.GL)
# declaramos variable del dataframe
datos <- fichero_salida
# rm todas las col exc la 2 (ID), la 5 (NEH), la 57 (GE) y la 61 (GB) las filas que sean NA
datos <- datos %>% select(2,5,57,61) %>% filter(!is.na(EHOGAR) & !is.na(GTT) & !is.na(GTB))
datos
# pasamos EHOGAR de char a numeric
datos$NEH <- as.numeric(datos$EHOGAR)
datos <- datos %>% select(1,3,4,5)
datos
datos.GEyGB <- datos %>% select(2,4)
gasto.ed <- datos.GEyGB %>% select(1)
gasto.bie <- datos.GEyGB %>% select(2)
gasto.ed <- as_tibble(gasto.ed)
gasto.bie <- as_tibble(gasto.bie)
vector.GE <- ObtenerVector(gasto.ed[1])
vector.GB <- ObtenerVector(gasto.bie[1])
df.GEyGB <- data.frame(GE = vector.GE,
GB = vector.GB)
ggplot(df.GEyGB, aes(x = GE, y = GB)) +
geom_point(color = "#71c55b") +
xlab("") +
ylab("")
vector.GB
datos
datos.GEyGB <- datos %>% select(2,3)
gasto.ed <- datos.GEyGB %>% select(1)
gasto.bie <- datos.GEyGB %>% select(2)
gasto.ed <- as_tibble(gasto.ed)
gasto.bie <- as_tibble(gasto.bie)
vector.GE <- ObtenerVector(gasto.ed[1])
vector.GB <- ObtenerVector(gasto.bie[1])
df.GEyGB <- data.frame(GE = vector.GE,
GB = vector.GB)
ggplot(df.GEyGB, aes(x = GE, y = GB)) +
geom_point(color = "#71c55b") +
xlab("") +
ylab("")
cor(vector.GE, vector.GB)
datos_aux <- fichero_salida
datos_aux <- datos_aux %>% select(7,41) %>% filter(!is.na(EDAD) & !is.na(C33A))
datos_aux$ED <- as.numeric(datos_aux$EDAD)
datos_aux <- datos_aux %>% select(2,3)
var1 <- datos_aux %>% select(1)
var2 <- datos_aux %>% select(2)
var1 <- as_tibble(var1)
var2 <- as_tibble(var2)
vector1 <- ObtenerVector(var1[1])
vector2 <- ObtenerVector(var2[1])
df <- data.frame(var1 = vector1,
var2 = vector2)
ggplot(df, aes(x = var1, y = var2)) +
geom_point(color = "#71c55b") +
xlab("") +
ylab("")
ggplot(df, aes(x = var2, y = var1)) +
geom_point(color = "#71c55b") +
xlab("") +
ylab("")
cor(vector2, vector1)
datos_aux <- fichero_salida
datos_aux <- datos_aux %>% select(4,5) %>% filter(!is.na(NHOGAR) & !is.na(EHOGAR))
var1 <- datos_aux %>% select(1)
var2 <- datos_aux %>% select(2)
var1 <- as_tibble(var1)
var2 <- as_tibble(var2)
vector1 <- ObtenerVector(var1[1])
vector2 <- ObtenerVector(var2[1])
df <- data.frame(var1 = vector1,
var2 = vector2)
ggplot(df, aes(x = var2, y = var1)) +
geom_point(color = "#71c55b") +
xlab("") +
ylab("")
cor(vector2, vector1)
vector1
datos_aux
datos_aux
datos_aux <- fichero_salida
datos_aux <- datos_aux %>% select(4,5) %>% filter(!is.na(NHOGAR) & !is.na(EHOGAR))
datos_aux$NEH <- as.numeric(datos_aux$EHOGAR)
datos_aux <- datos_aux %>% select(2,3)
datos_aux$NPH <- as.numeric(datos_aux$NHOGAR)
datos_aux <- datos_aux %>% select(2,3)
datos_aux <- fichero_salida
datos_aux <- datos_aux %>% select(4,5) %>% filter(!is.na(NHOGAR) & !is.na(EHOGAR))
datos_aux
datos_aux$NEH <- as.numeric(datos_aux$EHOGAR)
datos_aux <- fichero_salida
datos_aux <- datos_aux %>% select(4,5) %>% filter(!is.na(NHOGAR) & !is.na(EHOGAR))
datos_aux$NEH <- as.numeric(datos_aux$EHOGAR)
datos_aux <- datos_aux %>% select(1,3)
datos
datos_aux
datos_aux <- fichero_salida
datos_aux <- datos_aux %>% select(4,5) %>% filter(!is.na(NHOGAR) & !is.na(EHOGAR))
datos_aux$NEH <- as.numeric(datos_aux$EHOGAR)
datos_aux <- datos_aux %>% select(1,3)
datos_aux$NPH <- as.numeric(datos_aux$NHOGAR)
datos_aux <- datos_aux %>% select(2,3)
var1 <- datos_aux %>% select(1)
var2 <- datos_aux %>% select(2)
var1 <- as_tibble(var1)
var2 <- as_tibble(var2)
vector1 <- ObtenerVector(var1[1])
vector2 <- ObtenerVector(var2[1])
df <- data.frame(var1 = vector1,
var2 = vector2)
ggplot(df, aes(x = var2, y = var1)) +
geom_point(color = "#71c55b") +
xlab("") +
ylab("")
cor(vector2, vector1)
datos_aux <- fichero_salida
datos_aux <- datos_aux %>% select(5,50) %>% filter(!is.na(EHOGAR) & !is.na(D48))
datos_aux$NEH <- as.numeric(datos_aux$EHOGAR)
datos_aux <- datos_aux %>% select(2,3)
var1 <- datos_aux %>% select(1)
var2 <- datos_aux %>% select(2)
var1 <- as_tibble(var1)
var2 <- as_tibble(var2)
vector1 <- ObtenerVector(var1[1])
vector2 <- ObtenerVector(var2[1])
df <- data.frame(var1 = vector1,
var2 = vector2)
ggplot(df, aes(x = var2, y = var1)) +
geom_point(color = "#71c55b") +
xlab("") +
ylab("")
cor(vector2, vector1)
datos_aux <- fichero_salida
datos_aux <- datos_aux %>% select(7,17) %>% filter(!is.na(EDAD) & !is.na(MCL))
datos_aux$ED <- as.numeric(datos_aux$EDAD)
datos_aux <- datos_aux %>% select(2,3)
var1 <- datos_aux %>% select(1)
var2 <- datos_aux %>% select(2)
var1 <- as_tibble(var1)
var2 <- as_tibble(var2)
vector1 <- ObtenerVector(var1[1])
vector2 <- ObtenerVector(var2[1])
df <- data.frame(var1 = vector1,
var2 = vector2)
ggplot(df, aes(x = var2, y = var1)) +
geom_point(color = "#71c55b") +
xlab("") +
ylab("")
cor(vector2, vector1)
datos_aux <- fichero_salida
datos_aux <- datos_aux %>% select(7,29) %>% filter(!is.na(EDAD) & !is.na(C19A))
datos_aux$ED <- as.numeric(datos_aux$EDAD)
datos_aux <- datos_aux %>% select(2,3)
var1 <- datos_aux %>% select(1)
var2 <- datos_aux %>% select(2)
var1 <- as_tibble(var1)
var2 <- as_tibble(var2)
vector1 <- ObtenerVector(var1[1])
vector2 <- ObtenerVector(var2[1])
df <- data.frame(var1 = vector1,
var2 = vector2)
ggplot(df, aes(x = var2, y = var1)) +
geom_point(color = "#71c55b") +
xlab("") +
ylab("")
cor(vector2, vector1)
datos_aux <- fichero_salida
datos_aux <- datos_aux %>% select(7,33) %>% filter(!is.na(EDAD) & !is.na(C23A))
datos_aux$ED <- as.numeric(datos_aux$EDAD)
datos_aux <- datos_aux %>% select(2,3)
var1 <- datos_aux %>% select(1)
var2 <- datos_aux %>% select(2)
var1 <- as_tibble(var1)
var2 <- as_tibble(var2)
vector1 <- ObtenerVector(var1[1])
vector2 <- ObtenerVector(var2[1])
df <- data.frame(var1 = vector1,
var2 = vector2)
ggplot(df, aes(x = var2, y = var1)) +
geom_point(color = "#71c55b") +
xlab("") +
ylab("")
cor(vector2, vector1)
datos_aux <- fichero_salida
datos_aux <- datos_aux %>% select(7,19) %>% filter(!is.na(EDAD) & !is.na(C09A))
datos_aux$ED <- as.numeric(datos_aux$EDAD)
datos_aux <- datos_aux %>% select(2,3)
var1 <- datos_aux %>% select(1)
var2 <- datos_aux %>% select(2)
var1 <- as_tibble(var1)
var2 <- as_tibble(var2)
vector1 <- ObtenerVector(var1[1])
vector2 <- ObtenerVector(var2[1])
df <- data.frame(var1 = vector1,
var2 = vector2)
ggplot(df, aes(x = var2, y = var1)) +
geom_point(color = "#71c55b") +
xlab("") +
ylab("")
cor(vector2, vector1)
datos_aux <- fichero_salida
datos_aux <- datos_aux %>% select(4,5) %>% filter(!is.na(NHOGAR) & !is.na(EHOGAR))
datos_aux$NEH <- as.numeric(datos_aux$EHOGAR)
datos_aux <- datos_aux %>% select(1,3)
datos_aux$NPH <- as.numeric(datos_aux$NHOGAR)
datos_aux <- datos_aux %>% select(2,3)
var1 <- datos_aux %>% select(1)
var2 <- datos_aux %>% select(2)
var1 <- as_tibble(var1)
var2 <- as_tibble(var2)
vector1 <- ObtenerVector(var1[1])
vector2 <- ObtenerVector(var2[1])
df <- data.frame(var1 = vector1,
var2 = vector2)
ggplot(df, aes(x = var2, y = var1)) +
geom_point(color = "#71c55b") +
xlab("") +
ylab("")
cor(vector2, vector1)
# declaramos variable del dataframe
datos <- fichero_salida
# rm todas las col exc la 2 (ID), la 4 (NPH), la 5 (NEH), la 57 (GE) y las filas que sean NA
datos <- datos %>% select(2,4,5,57) %>% filter(!is.na(NHOGAR) & !is.na(EHOGAR) & !is.na(GTT))
# pasamos NHOGAR de char a numeric
datos$NPH <- as.numeric(datos$NHOGAR)
datos <- datos %>% select(1,3,4,5)
# pasamos EHOGAR de char a numeric
datos$NEH <- as.numeric(datos$EHOGAR)
datos <- datos %>% select(1,3,4,5)
datos
# rehacemos el fichero con los gastos totales por hogar
# (viene una entrada por cada estudiante)
datos.NEHyGE <- datos %>% group_by(IDHOGAR, NEH) %>% summarise(GE = sum(GTT))
datos.NEHyGE <- datos.NEHyGE %>% ungroup() %>% select(2, 3)
datos.NEHyGE
# rehacemos el fichero con los gastos totales por hogar
# (viene una entrada por cada estudiante)
datos.NEHyGE <- datos %>% group_by(IDHOGAR, NEH) %>% summarise(GE = sum(GTT))
datos.NEHyGE
# tomamos una nueva variable: número de personas por hogar
datos.NPHyNEH <- datos %>% select(1,3,4)
datos.NPHyNEH <- datos %>% group_by(IDHOGAR)
datos.NPHyNEH
# tomamos una nueva variable: número de personas por hogar
datos.NPHyNEH <- datos %>% select(1,3,4)
datos.NPHyNEH <- datos.NPHyNEH %>% group_by(IDHOGAR)
datos.NEHyGE <- datos.NEHyGE %>% ungroup() %>% select(2, 3)
# tomamos una nueva variable: número de personas por hogar
datos.NPHyNEH <- datos %>% select(1,3,4)
datos.NPHyNEH <- datos.NPHyNEH %>% group_by(IDHOGAR)
datos.NPHyNEH <- datos.NPHyNEH %>% ungroup() %>% select(2, 3)
datos.NEHyGE
datos.NPHyNEH
# tomamos una nueva variable: número de personas por hogar
datos.NPHyNEH <- datos %>% select(1,3,4)
datos.NPHyNEH <- datos.NPHyNEH %>% group_by(IDHOGAR)
datos.NPHyNEH
# tomamos una nueva variable: número de personas por hogar
datos.NPHyNEH <- datos %>% select(1,3,4)
datos.NPHyNEH <- datos.NPHyNEH %>% group_by(IDHOGAR)
datos.NPHyNEH <- datos.NPHyNEH %>% ungroup() %>% select(2, 3)
# separamos variables
num.per.hogar <- datosNPHyNEH %>% select(1)
num.est.hogar.ind <- datosNPHyNEH %>% select(2)
# separamos variables
num.per.hogar <- datos.NPHyNEH %>% select(1)
num.est.hogar.ind <- datos.NPHyNEH %>% select(2)
# pasamos a tibble
num.per.hogar <- as_tibble(num.per.hogar)
num.est.hogar.ind <- as_tibble(num.est.hogar.ind)
# calculamos vectores necesarios
vector.NPH <- ObtenerVector(num.per.hogar[1])
vector.NEHI <- ObtenerVector(num.est.hogar.ind[1])
# tabla de frecuencias absolutas
tabla.freq.abs.NPHyNEH <- table(vector.NPH, vector.NEH)
# tabla de frecuencias relativas
tabla.freq.rel.NPHyNEH <- prop.table(tabla.freq.abs.NPHyNEH)
# añadimos marginales
tabla.freq.abs.NPHyNEH <- addmargins(tabla.freq.abs.NPHyNEH)
tabla.freq.rel.NPHyNEH <- addmargins(tabla.freq.rel.NPHyNEH)
datos.NPHyNEH
num.per.hogar
num.est.hogar.ind
vector.NPH
# tomamos una nueva variable: número de personas por hogar
datos.NPHyNEH <- datos %>% select(1,3,4)
datos.NPHyNEH <- datos.NPHyNEH %>% group_by(IDHOGAR)
datos.NPHyNEH <- datos.NPHyNEH %>% ungroup() %>% select(2, 3)
# separamos variables
num.per.hogar <- datos.NPHyNEH %>% select(1)
num.est.hogar.ind <- datos.NPHyNEH %>% select(2)
# pasamos a tibble
num.per.hogar <- as_tibble(num.per.hogar)
num.est.hogar.ind <- as_tibble(num.est.hogar.ind)
# calculamos vectores necesarios
vector.NPH <- ObtenerVector(num.per.hogar[1])
vector.NEHI <- ObtenerVector(num.est.hogar.ind[1])
# tabla de frecuencias absolutas
tabla.freq.abs.NPHyNEH <- table(vector.NPH, vector.NEHI)
# tabla de frecuencias relativas
tabla.freq.rel.NPHyNEH <- prop.table(tabla.freq.abs.NPHyNEH)
# añadimos marginales
tabla.freq.abs.NPHyNEH <- addmargins(tabla.freq.abs.NPHyNEH)
tabla.freq.rel.NPHyNEH <- addmargins(tabla.freq.rel.NPHyNEH)
tabla.freq.abs.NPHyNEH
tabla.freq.rel.NPHyNEH
# tomamos una nueva variable: número de personas por hogar
datos.NPHyNEHI <- datos %>% select(1,3,4)
datos.NPHyNEHI <- datos.NPHyNEHI %>% group_by(IDHOGAR)
datos.NPHyNEHI <- datos.NPHyNEHI %>% ungroup() %>% select(2, 3)
# separamos variables
num.per.hogar <- datos.NPHyNEHI %>% select(1)
num.est.hogar.ind <- datos.NPHyNEHI %>% select(2)
# pasamos a tibble
num.per.hogar <- as_tibble(num.per.hogar)
num.est.hogar.ind <- as_tibble(num.est.hogar.ind)
# calculamos vectores necesarios
vector.NPH <- ObtenerVector(num.per.hogar[1])
vector.NEHI <- ObtenerVector(num.est.hogar.ind[1])
# tabla de frecuencias absolutas
tabla.freq.abs.NPHyNEHI <- table(vector.NPH, vector.NEHI)
# tabla de frecuencias relativas
tabla.freq.rel.NPHyNEHI <- prop.table(tabla.freq.abs.NPHyNEHI)
# añadimos marginales
tabla.freq.abs.NPHyNEHI <- addmargins(tabla.freq.abs.NPHyNEHI)
tabla.freq.rel.NPHyNEHI <- addmargins(tabla.freq.rel.NPHyNEHI)
# obtenemos el data frame para representarlo
df.NPHyNEHI <- data.frame(NPH = vector.NPH,
NEHI = vector.NEHI)
diag.disp.NPHyNEHI <- ggplot(df.NPHyNEHI, aes(x = NPH, y = NEHI)) +
geom_point(color = "#71c55b") +
xlab("") +
ylab("")
diag.disp.NPHyNEHI
diag.disp.NPHyNEHI <- ggplot(df.NPHyNEHI, aes(x = NPH, y = NEHI)) +
geom_point(color = "#71c55b") +
xlab("") +
ylab("") +
ylim(c(0, 7))
diag.disp.NPHyNEHI
diag.disp.NPHyNEHI <- ggplot(df.NPHyNEHI, aes(x = NPH, y = NEHI)) +
geom_point(color = "#71c55b") +
xlab("") +
ylab("") +
ylim(c(0, 7)) +
ggtitle("Diagrama de dispersión Nº personas por hogar y Nº estudiantes por hogar")
diag.disp.NPHyNEHI
